#:kivy 1.0.0
#:import Image kivy.uix.image
<AnimalScreen>:
    game_no: tif_game_no.text
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            id: lay_bar
            padding: 10
            spacing: 10
            size_hint_y: 1
            orientation: 'horizontal'
            Button:
                size_hint_x: 1
                keep_ratio: True
                id: btn_settings
                on_press: app.switch_to_main()
                CenteredImage:
                    source: 'resources/images/arrow_back.png'
            Image:
                id: img_title
                size_hint_x: 1
                valign: "right"
            CenterLeftLabel:
                id: lbl_title
                size_hint_x: 5
                font_size: "40sp"
            TextInput:
                id: tif_game_no
                size_hint_x: 2
                hint_text: "Wild Nr."
                valign: "middle"
                multiline: False
                padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
                input_type: "number"
                input_filter: "int"
                font_size: "30sp"
        ScrollView:
            size_hint_y: 6
            padding: 10,10
            do_scroll_x: False
            do_scroll_y: True
            GridLayout:
                id: grid_cuts
                padding: 10,0,10,10
                size_hint_y: None
                height: self.minimum_height
                row_default_height: '160dp'
                cols: 3
                spacing: 10 if len(self.children) > 1 else 0


<MainScreen>:
    BoxLayout:
        orientation: 'vertical'
        BoxLayout:
            padding: 10
            size_hint_y: 1
            orientation: 'horizontal'
            CenterLeftLabel:
                size_hint_x: 10
                font_size: "40sp"
                text: "Wild ausw√§hlen:"
            Button:
                size_hint_x: 1
                keep_ratio: True
                id: btn_settings
                on_press: app.open_settings()
                CenteredImage:
                    source: 'resources/images/settings.png'
        ScrollView:
            size_hint_y: 6
            do_scroll: False, True
            GridLayout:
                id: grid_animals
                padding: 10,0,10,10
                size_hint_y: None
                height: self.minimum_height
                row_default_height: '160dp'
                cols: 2
                spacing: 10


<CenterLeftLabel@Label>:
    halign: 'left'
    text_size:self.size
    valign: 'center'
    font_size: '30sp'

<AnimalButton>:
    orientation: "horizontal"
    text: ""
    source: ""
    size_hint: 1,1
    canvas.before:
        BorderImage:
            border: 16, 16, 16, 16
            source: root.background_normal
            pos: self.pos
            size: self.size
    AnimalImage:
        size_hint_x: 2
        id: img_animal
        source: root.source
    CenterLeftLabel:
        id: lbl_title
        size_hint_x: 2
        padding: 10,0
        text: root.text

<BigButton@Button>:
    font_size: '30sp'
    markup: True

<CenteredImage@Image>:
    height: self.parent.height * 0.8
    width: self.parent.width * 0.8
    keep_ratio: True
    y: self.parent.y + self.parent.height/2 - self.height/2
    x: self.parent.x + self.parent.width/2 - self.width/2
    allow_stretch: True

<AnimalImage@Image>:
    height: self.parent.height/2
    width: self.parent.width/2
    keep_ratio: True
    y: self.parent.y + self.parent.height/2 - self.height/2
    x: self.parent.x
    allow_stretch: True

<ScalePopup>:
    auto_dismiss: False
    size_hint: 0.5,0.3
    title: "Gewicht Eingeben"
    title_align: "center"
    BoxLayout:
        orientation: "vertical"
        TextInput:
            id: tif_weight
            valign: "middle"
            halign: "center"
            multiline: False
            padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
            input_type: "number"
            input_filter: "int"
            font_size: "30sp"
        Button:
            keep_ratio: True
            id: btn_ok
            on_release: root.finish()
            text: "OK"